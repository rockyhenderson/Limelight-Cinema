<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Responsive Movie Page</title>
    <script
      src="https://kit.fontawesome.com/b6b5f43622.js"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="ticketModal" class="modal">
      <span class="close-button" id="closeModal">&times;</span>
      <div class="modal-content">
        <div class="modalLeft"></div>
        <div class="modalRight">
          <h2>Godzilla</h2>
          <h3>Confirm your booking</h3>

          <!-- Ticket Details -->
          <div class="ticket-details">
            <p>
              <strong>Movie:</strong> <span id="movieTitle">Inception</span>
            </p>
            <p><strong>Date:</strong> <span id="movieDate">2025-01-15</span></p>
            <p><strong>Time:</strong> <span id="movieTime">7:00 PM</span></p>
            <p><strong>Hall:</strong> <span id="movieHall">Hall 1</span></p>
          </div>

          <!-- Seat Selection -->
          <div class="seat-selection">
            <label for="seats">Select Seats:</label>
            <select id="seats" name="seats">
              <option value="A1">A1</option>
              <option value="A2">A2</option>
              <option value="A3">A3</option>
              <!-- Add more seats as needed -->
            </select>
          </div>

          <!-- Confirm Button -->
          <button id="confirmBookingButton" class="confirm-button">
            Confirm Booking
          </button>
        </div>
      </div>
    </div>
    <div
      class="debug-box"
      style="
        width: 50px;
        height: 50px;
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        z-index: 9999;
      "
    ></div>
    <div class="mobile">
      <div class="head-icons">
        <i class="fa-solid fa-arrow-left fa-2xl" style="color: white"></i>
        <div class="icon-wrapper-div">
          <i class="fa-solid fa-heart fa-2xl" style="color: white"></i>
          <i
            class="fa-solid fa-arrow-up-from-bracket fa-2xl"
            style="color: white"
          ></i>
        </div>
      </div>
      <div class="head-wrapper">
        <div class="header-image"></div>
        <div class="movie-head-wrapper">
          <div class="movie-info">
            <div id="movie-title-container">
              <h1 id="movie-title">Godzilla</h1>
            </div>
            <p id="movie-genre">Action, Adventure | 2h 10m</p>
            <div class="info-wrapper">
              <div class="age-language">
                <p class="pill">PG-13</p>
                <p class="pill">English</p>
              </div>
              <div class="ratings">
                <div
                  id="imdb-rating"
                  style="display: flex; align-items: center; height: 25px"
                >
                  <img
                    src="../public/src/IMDbLogo.png"
                    alt="IMDb logo"
                    style="height: 25px"
                  />
                  <p style="margin-left: 5px">7.2</p>
                </div>
                <p style="margin: 0px; margin-left: 15px; margin-right: 20px">
                  |
                </p>
                <div
                  id="rottentom-rating"
                  style="display: flex; align-items: center; height: 25px"
                >
                  <img
                    src="../public/src/RottenTomLogo.png"
                    alt="Rotten Tomatoes logo"
                    style="height: 25px"
                  />
                  <p style="margin-left: 5px">85%</p>
                </div>
              </div>
            </div>
            <button class="book-ticket-btn" onclick="bookTicket()">
              <i class="fa-solid fa-ticket-simple"></i> Buy Ticket
            </button>
          </div>

          <div class="movie-description">
            <h2>Description</h2>
            <p>
              In a world on the brink, Godzilla—a colossal force of
              nature—emerges as both savior and destroyer. As scientists and
              governments scramble to understand the unstoppable beast, humanity
              faces a chilling truth: we may no longer be at the top of the food
              chain. In a breathtaking clash of man versus monster, the fate of
              the world hangs in the balance.
            </p>
          </div>
        </div>
      </div>
      <div class="reviews">
        <h2>Reviews</h2>
        <div class="review-item">
          <div class="review-box">
            <strong>John Doe</strong>⭐⭐⭐⭐⭐<br />
            <p>
              Amazing visuals and great action sequences! A must-watch for
              monster fans.
            </p>
          </div>
        </div>
        <div class="review-item">
          <div class="review-box">
            <strong>Jane Smith</strong>⭐⭐⭐⭐⭐<br />
            <p>
              Thrilling movie with great suspense. Storyline could have been a
              bit stronger, though.
            </p>
          </div>
        </div>
        <!-- See More Comments Button -->
        <button class="see-more-comments">See More Comments</button>
      </div>
      <div class="similar-movies">
        <h2>Similar Movies</h2>
        <div class="similar-movie-item">
          <img src="../public/src/dark_knight.jpg" alt="Dark Knight" />
          <span>Dark Knight</span>
        </div>
        <div class="similar-movie-item">
          <img src="../public/src/inception.jpg" alt="Inception" />
          <span>Inception</span>
        </div>
      </div>
    </div>
  </body>
  <script>
    const ticketModal = document.getElementById("ticketModal");
    const closeModal = document.getElementById("closeModal");
    function adjustFontSizeToFit(element) {
      const parent = element.parentElement;
      let currentFontSize = 100; // Start with a reasonably large font size
      element.style.fontSize = `${currentFontSize}px`;

      console.log("Starting adjustment with font size:", currentFontSize);

      // Reduce the font size until the text fits within the container width and height
      while (
        element.scrollWidth > parent.offsetWidth ||
        element.scrollHeight > parent.offsetHeight
      ) {
        console.log(
          `Text width: ${element.scrollWidth}px, Parent width: ${parent.offsetWidth}px`
        );
        console.log(
          `Text height: ${element.scrollHeight}px, Parent height: ${parent.offsetHeight}px`
        );

        currentFontSize--;
        element.style.fontSize = `${currentFontSize}px`;

        console.log("Adjusting font size to:", currentFontSize);

        // Prevent getting too small
        if (currentFontSize < 5) {
          console.warn("Font size has reached the minimum limit of 5px");
          break;
        }
      }

      console.log("Final font size after adjustment:", currentFontSize);
    }

    document.addEventListener("DOMContentLoaded", () => {
      const headerElement = document.getElementById("movie-title");
      adjustFontSizeToFit(headerElement);
    });

    window.addEventListener("resize", () => {
      const headerElement = document.getElementById("movie-title");
      console.log("Window resized. Adjusting font size again...");
      adjustFontSizeToFit(headerElement);
    });
    function bookTicket() {
      document.getElementById("ticketModal").style.display = "block";
    }

    closeModal.addEventListener("click", () => {
      ticketModal.style.display = "none";
    });

    window.addEventListener("click", (event) => {
      if (event.target === ticketModal) {
        ticketModal.style.display = "none";
      }
    });
  </script>
</html>
